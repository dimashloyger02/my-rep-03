<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFT Маркетплейс</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="sort-controls">
        <select id="sort-select">
            <option value="price-asc">По цене (от низкой к высокой)</option>
            <option value="price-desc">По цене (от высокой к низкой)</option>
            <option value="id-asc">По ID (по возрастанию)</option>
            <option value="id-desc">По ID (по убыванию)</option>
        </select>
    </div>
    
    <button onclick="togglePriceFormat(true)">Показать в Stars</button>
    <button onclick="togglePriceFormat(false)">Показать в TON</button>

    <!-- Индикатор загрузки -->
    <div class="loading-indicator" style="display:none;">
        <p>Загрузка данных...</p>
    </div>

    <div class="nft-container"></div>

    <script src="scripts/main.js"></script>
<!-- В вашем HTML файле -->
<script src="/api/telegram/sendMessage.js"></script>
<script src="/api/telegram/editMessageText.js"></script>

<script>
    import { sendMessage, editMessageText } from '/api/telegram/sendMessage.js';

    // Функция для отправки и получения message_id
    async function sendAndEditMessage() {
        try {
            // Сначала отправляем сообщение
            const chatId = '1763784339';
            const initialText = 'Привет, это тестовое сообщение!';
            
            // Отправляем сообщение и получаем результат
            const sendResult = await sendMessage(chatId, initialText);
            
            // Получаем message_id из результата
            const messageId = sendResult.result.message_id;
            
            console.log('Сообщение отправлено, message_id:', messageId);
            
            // Теперь редактируем сообщение
            const newText = 'Отредактированное сообщение';
            const editResult = await editMessageText(chatId, messageId, newText);
            
            console.log('Сообщение отредактировано:', editResult);
        } catch (error) {
            console.error('Произошла ошибка:', error);
        }
    }

    // Вызываем функцию при загрузке страницы
    document.addEventListener('DOMContentLoaded', () => {
        sendAndEditMessage();
    });
</script>
</body>
</html>
