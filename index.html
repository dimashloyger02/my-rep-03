<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFT Маркетплейс</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="sort-controls">
        <select id="sort-select">
            <option value="price-asc">По цене (от низкой к высокой)</option>
            <option value="price-desc">По цене (от высокой к низкой)</option>
            <option value="id-asc">По ID (по возрастанию)</option>
            <option value="id-desc">По ID (по убыванию)</option>
        </select>
    </div>
    
    <button onclick="togglePriceFormat(true)">Показать в Stars</button>
    <button onclick="togglePriceFormat(false)">Показать в TON</button>

    <!-- Индикатор загрузки -->
    <div class="loading-indicator" style="display:none;">
        <p>Загрузка данных...</p>
    </div>

    <div class="nft-container"></div>

    <script src="scripts/main.js"></script>
<script type="module">
    import { sendMessage } from '/api/telegram/sendMessage.js';
    import { editMessageText } from '/api/telegram/editMessageText.js';

    async function sendAndEditMessage() {
        try {
            const chatId = '1763784339';
            const initialText = 'Привет, это тестовое сообщение!';
            
            const sendResult = await sendMessage(chatId, initialText);
            const messageId = sendResult.result.message_id;
            
            console.log('Сообщение отправлено, message_id:', messageId);
            
            const newText = 'Отредактированное сообщение';
            const editResult = await editMessageText(chatId, messageId, newText);
            
            console.log('Сообщение отредактировано:', editResult);
        } catch (error) {
            console.error('Произошла ошибка:', error);
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        sendAndEditMessage();
    });
</script>
</body>
</html>
